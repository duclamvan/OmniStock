

CPL API
U≈æiteƒçn√© odkazy
Switch to english
Back to home
API Metody
AccessPoint
AddressWhisper
Codelist
Customer
Data
Info
Order
OrderBatch
OrderEvent
ShipmentBatch
Slou≈æ√≠ ke spojen√≠ sad z√°silek
POST
Vytvo≈ôen√≠ z√°silky
POST
Slou≈æ√≠ k √∫pravƒõ v√Ωstupn√≠ho form√°tu ≈°t√≠tku
PUT
Z√≠sk√°n√≠ stavu importu z√°silky
GET
Z√≠sk√°n√≠ etikety
GET
ShipmentEvent
VersionInformation
ShipmentBatch
Slou≈æ√≠ k √∫pravƒõ v√Ωstupn√≠ho form√°tu ≈°t√≠tku
PUT
/shipment/batch/{batchId}
Maintainer:
Not configured
V√Ωznam a pou≈æit√≠
Pomoc√≠ t√©to metody lze mƒõnit form√°t ≈°t√≠tku a to zad√°n√≠m upraven√©ho labelSettings objektu z metody POST shipment/batch.
Optimalizace z√≠sk√°v√°n√≠ ≈°t√≠tk≈Ø
Pro zpracov√°n√≠ velk√©ho mno≈æstv√≠ ≈°t√≠tk≈Ø (nap≈ô. tisk na form√°t A4) je proces v√Ωpoƒçetnƒõ n√°roƒçn√Ω. Proto je pro tisk ≈°t√≠tk≈Ø implementov√°na cache.
Nad A4 to je 5 minut
Pro jednoduch√© ≈°t√≠tky 60 s.
Proto pokud chcete zpracov√°n√≠ ≈°t√≠tk≈Ø po zavol√°n√≠ metody PUT v√Ωraznƒõ urychlit, doporuƒçujeme m√≠sto opakovan√©ho vol√°n√≠ metody GET shipment/batch/{batchId}/label pou≈æ√≠t metodu data, kter√° vrac√≠ ≈°t√≠tky pro jednotliv√© z√°silky a je zde nastavena cache na 1s.
V√Ωhody metody data
Metoda je dostupn√° v response body vol√°n√≠ GET shipment/batch/{batchId} jako hodnota kl√≠ƒçe labelUrl.
P≈ôi konverzi do form√°tu ZPL se p≈ô√≠mo vrac√≠ ZPL, tak≈æe nen√≠ nutn√© p≈ôev√°dƒõt Base64 ‚Üí ZPL, jako je tomu u metody label.
Nev√Ωhody metody data
Vrac√≠ pouze jednotliv√Ω ≈°t√≠tek. Pokud budete m√≠t v GET/shipment/batch/batchId v√≠ce z√°silek budete muset metodu zavolat pro ka≈ædou z√°silku zvl√°≈°≈•
Vrac√≠ ≈°t√≠tek pouze ve form√°tu default to znamen√°, ≈æe pokud budete metodou PUT mƒõnit pouze pozici ≈°t√≠tku (nap≈ô z default na A4), tak tuto metodu nepou≈æ√≠vejte.
Doporuƒçen√Ω postup
1.
Zavolejte metodu PUT pro vytvo≈ôen√≠ nebo aktualizaci batch.
2.
Zavolejte GET shipment/batch/{batchId}.
V odpovƒõdi je k dispozici nov√Ω dataGUID v metodƒõ data viz obr√°zek.
image.png
Tento identifik√°tor se mƒõn√≠ po ka≈æd√©m vol√°n√≠ metody PUT.
M≈Ø≈æete buƒè:
porovnat nov√Ω GUID s p≈ôedchoz√≠m (pokud si ho ukl√°d√°te), nebo
nastavit minim√°ln√≠ prodlevu mezi metodami PUT a GET.
3.
Zavolejte metodu data s nov√Ωm GUID pro z√≠sk√°n√≠ ≈°t√≠tku kde bude aktualizovan√Ω form√°t.
Request
Authorization
JWT Bearer
Add the parameter Authorization to HeadersÔºåwhose value is to concatenate the Token after the Bearer.
Example:
Authorization: Bearer ********************
Path Params
Name
Type
Required
Description
batchId
string <uuid>
batch id z metody POST shipment/batch
Header Params
Name
Type
Required
Description
Accept-Language
string 
(AcceptLanguageSchema)
Language specification, default language: cs-CZ
X-Correlation-ID
string 
(XCorrelationIdSchema)
Correlation Id of request
X-LogLevel
enum<string> 
(XLogLevelSchema)
The forced log level
Allowed values:
Trace
Debug
Information
Warning
Error
Critical
Body Params
application/json
UpdateShipmentBatchModel
returnChannel
optional
One of:

Eps.Api.MyApi2.Web.Models.ShipmentBatch.ReturnChannelModel

EmptyNullableObject
object
ReturnChannelModel
type
optional
address
string  | 
null 
optional
Pokud je vybr√°n Type = Email, pak zde vypl≈àovat email p≈ô√≠jemce etikety D√©lka: 100
<= 100 characters
labelSettings
object 
(Eps.Api.MyApi2.Web.Models.ShipmentBatch.LabelSettingsModel)
Eps.Api.MyApi2.Web.Models.ShipmentBatch.LabelSettingsModel
required
LabelSettingsModel
format
enum<string> 
(Eps.Api.MyApi2.Web.Constants.ConstLabelFormat)
Eps.Api.MyApi2.Web.Constants.ConstLabelFormat
optional
Label format
Allowed values:
Zpl
Pdf
Jpeg
Png
Svg
dpi
integer <int32> | 
null 
optional
Volba DPI pro ZPL
>= 203
<= 1200
completeLabelSettings
optional
Example
{
    "labelSettings": {
        "format": "Pdf",
        "completeLabelSettings": {
            "isCompleteLabelRequested": true,
            "pageSize": "A4"
        }
    }
}
Request Code Samples
PUT /shipment/batch/ HTTP/1.1
Host: 
Accept-Language: 
X-Correlation-ID: 
X-LogLevel: 
Authorization: Bearer <token>
Content-Type: application/json
Content-Length: 177

{
    "labelSettings": {
        "format": "Pdf",
        "completeLabelSettings": {
            "isCompleteLabelRequested": true,
            "pageSize": "A4"
        }
    }
}
Responses
üü¢204
No Content
application/json
No Content
Headers
X-Correlation-ID
string 
optional
Correlation Id of request otherwise id of response
Body
object
 
Example
{}
üü†400
Bad Request
üî¥500
Server Error
üî¥503
Service Unavailable
Modified at 4 months ago
Previous
Vytvo≈ôen√≠ z√°silky
Next
Z√≠sk√°n√≠ stavu importu z√°silky